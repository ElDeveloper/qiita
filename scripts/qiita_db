#!/usr/bin/env python

# -----------------------------------------------------------------------------
# Copyright (c) 2014--, The Qiita Development Team.
#
# Distributed under the terms of the BSD 3-clause License.
#
# The full license is in the file LICENSE, distributed with this software.
# -----------------------------------------------------------------------------

import click

from qiita_db.commands import make_study_from_cmd, import_preprocessed_data


@click.group()
def qiita_db():
    pass


@qiita_db.command()
@click.option('--owner', help="The email address of the owner of the study")
@click.option('--title', help="The title of the study")
@click.option('--info', type=click.File(mode='r'),
              help="filepath of file with study information in python"
              "config file format")
def insert_study_to_db(owner, title, info):
    make_study_from_cmd(owner, title, info)


@qiita_db.command()
@click.option('--study_id', help="Study id associated with data")
@click.option('--params_table', help="Name of the paramaters table for the"
              "preprocessed dtata")
@click.option('--filedir', help="Directory containing preprocessed data")
@click.option('--filetype', help="Filepath_type_id of the files")
@click.option('--params_id',
              help="id in the paramater table associated with the parameters")
@click.option('--submit_to_insdc', help="True means submitted to insdc")
def insert_preprocessed_data(study_id, filedir, filetype, params_table,
                             params_id, submit_to_insdc):
    import_preprocessed_data(study_id, filedir, filetype,
                             params_table, params_id, submit_to_insdc)
if __name__ == '__main__':
    qiita_db()
